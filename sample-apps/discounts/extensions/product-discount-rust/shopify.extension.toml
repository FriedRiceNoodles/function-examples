api_version = "2023-10"

[[extensions]]
name = "Product Discount"
handle = "product-discount-rust"
type = "function"

  [[extensions.targeting]]
  target = "purchase.product-discount.run"
  input_query = "src/run.graphql"
  export = "run"

  [extensions.build]
  command = "cargo wasi build --release"
  path = "target/wasm32-wasi/release/product-discount.wasm"
  watch = ["src/**/*.rs"]

  [extensions.ui.paths]
  create = "/app/volume-discount/:functionId/new"
  details = "/app/volume-discount/:functionId/:id"